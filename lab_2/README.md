# Лабораторная работа 2

## Задание

**Пример**. Использование параметра `if` директивы `parallel`

```
#include <omp.h>
const int NMAX=100;
const int LIMIT=10;
void main ()
{
int i, j;
float sum;
float a[NMAX][NMAX];
for (i=0; i < NMAX; i++)
 for (j=0; j < NMAX; j++)
 a[i][j] = i+j;
#pragma omp parallel shared(a) if (NMAX>LIMIT)
{
 #pragma omp for private(i,j,sum)
 for (i=0; i < NMAX; i++)
 {
 sum = 0;
 for (j=0; j < NMAX; j++)
 sum += a[i][j];
 printf ("Сумма элементов строки %d равна %f\n",i,sum);
 }
} /* Завершение параллельного фрагмента */
}
```

Выполнить **Пример** для различных значений параметров `NMAX` и `LIMIT`, замеряя время
выполнения

## Как запустить

```
make; \
./bin/main
```

## Результат работы

```
$ ./bin/main
Elapsed time (ms)
+---------------+----------+---------+
| N \ N > LIMIT | false    | true    |
+---------------+----------+---------+
| 1000          | 2.4038   | 0.6467  |
| 2000          | 9.9410   | 1.9890  |
| 3000          | 22.8819  | 5.5817  |
| 4000          | 40.4896  | 8.9779  |
| 5000          | 63.2993  | 13.2199 |
| 6000          | 90.8380  | 19.5676 |
| 7000          | 124.8819 | 26.4901 |
| 8000          | 163.1549 | 34.3061 |
| 9000          | 206.5846 | 61.1559 |
| 10000         | 255.8764 | 74.6097 |
+---------------+----------+---------+
```

Видим, что если время работы отличается, и связано это с тем, что при `N > LIMIT == false` код выполняется последовательно, а при `N > LIMIT == true` — параллельно.
